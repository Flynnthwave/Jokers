<!--
JOKERS & MARBLES ‚Äî BROWSER GAME (MVP)
Author: ChatGPT for Flynn


This is a quick, single‚Äëfile client for a real‚Äëtime multiplayer MVP using Socket.IO.
It includes:
‚Ä¢ Lobby with name + color + (optional) host code
‚Ä¢ Teams (4 players: 0&2 vs 1&3) and seat assignment
‚Ä¢ 2‚Äëdeck shoe (8 of every rank; 4 Jokers)
‚Ä¢ Private hands (server sends only your hand)
‚Ä¢ Turn order, draw after play (hand size 5)
‚Ä¢ Basic board with animated marbles
‚Ä¢ Simple rules implemented per family sheet:
- A: Get Out OR move 1 OR corner‚Üícorner
- K/Q/J/10: Get Out OR move 13/12/11/10
- 2‚Äë9: move N forward
- 8: backward 8 only
- 7: (MVP) move 7 forward (split TODO)
- Joker: Wild (choose 1‚Äë13 or Get Out), cannot move directly into Home
- Exact count to enter Home; cannot jump own marbles; bump opponent back to Start; landing on partner sends them to partner‚Äôs Home Front Door
‚Ä¢ Host controls: start game, reset game


Networking requires a small Node server (server.js below). Use the same origin for client and server.
-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jokers & Marbles (MVP)</title>
<style>
:root{
--bg:#0f1220; --panel:#171a2b; --ink:#e7e8ef; --muted:#9aa0b4; --accent:#6ee7ff;
--good:#4ade80; --warn:#fbbf24; --bad:#ef4444;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:radial-gradient(1200px 800px at 20% -10%,#1a1e36,transparent),
radial-gradient(1000px 700px at 120% 10%,#0b0d16,transparent),var(--bg);color:var(--ink)}
.wrap{max-width:1200px;margin:0 auto;padding:16px}
h1{font-size:20px;margin:12px 0 2px}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.07);border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,0.25)}
.row{display:flex;gap:12px;flex-wrap:wrap}
input,select,button{background:#0e1120;color:var(--ink);border:1px solid #2a2e45;border-radius:10px;padding:10px 12px;font-size:14px}
input::placeholder{color:#667089}
button{cursor:pointer}
button.primary{background:linear-gradient(90deg,#2563eb,#06b6d4);border:none}
button.ghost{background:transparent;border:1px dashed #3a3f5e}
button.danger{background:linear-gradient(90deg,#ef4444,#f59e0b);border:none}
.muted{color:var(--muted)}
.pill{padding:4px 8px;border-radius:999px;border:1px solid #2b3150;background:#121428}


/* Board */
.board-wrap{position:relative;aspect-ratio:1/1;width:100%;max-width:720px;margin:8px auto 0}
.track{position:absolute;inset:0;display:grid;grid-template-columns:repeat(14,1fr);grid-template-rows:repeat(14,1fr);gap:4px;padding:8px}
.cell{border:1px solid rgba(255,255,255,0.06);border-radius:6px;opacity:.5}
.home,.start{opacity:.85;border-style:dashed}


/* Marble */
.marble{position:absolute;width:28px;height:28px;border-radius:50%;border:2px solid rgba(255,255,255,0.7);box-shadow:0 4px 10px rgba(0,0,0,0.35);
transition:transform 420ms cubic-bezier(.2,.9,.2,1)}
.marble .num{position:absolute;inset:0;display:grid;place-items:center;font-size:12px;color:#0a0b12;font-weight:700}
.turn-ring{position:absolute;inset:-6px;border:2px dashed var(--accent);border-radius:50%;animation:pulse 1.2s infinite ease-in-out}
@keyframes pulse{0%{opacity:.2}50%{opacity:.9}100%{opacity:.2}}


.hand{display:flex;gap:8px;flex-wrap:wrap}
.cardbtn{min-width:56px;padding:8px 10px;border-radius:10px;border:1px solid #2a2e45;background:#12152a}
.cardbtn:hover{outline:2px solid #2dd4bf}
.log{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:12px;background:#0a0c18;border:1px solid #2a2e45;border-radius:10px;padding:10px;max-height:180px;overflow:auto}
.flex{display:flex;gap:10px;align-items:center}
.space{flex:1}
.ribbon{font-size:12px;padding:4px 8px;border-radius:8px;background:#0d1022;border:1px solid #2a2e45}
.hidden{display:none !important}
</style>
</head>
<body>
<div class="wrap">
<h1>üÉè Jokers & Marbles <span class="muted">‚Äî MVP (4‚Äëplayer teams)</span></h1>


<!-- LOBBY -->
<div id="lobby" class="card">
<div class="row">
<input id="room" placeholder="Room ID (e.g., FAMILY123)" />
<input id="name" placeholder="Your name" />
<select id="color">
<option value="#ef4444">Red</option>
<option value="#22c55e">Green</option>
<option value="#3b82f6">Blue</option>
<option value="#eab308">Yellow</option>
<option value="#a855f7">Purple</option>
<option value="#f97316">Orange</option>
</select>
<input id="hostcode" placeholder="Host code (optional)" />
<button id="joinBtn" class="primary">Join Room</button>
</div>
<p class="muted" style="margin-top:8px">Tip: Host enters a host code to unlock controls. Players leave it blank. Colors should be unique.</p>
<div id="roster" class="row" style="margin-top:10px"></div>
</div>


<!-- GAME HUD -->
<div id="hud" class="card hidden">
<div class="flex">
<div id="seatInfo" class="pill">Seat: -</div>
<div id="teamInfo" class="pill">Team: -</div>
<div id="turnInfo" class="pill">Turn: -</div>
<div class="space"></div>
<button id="startBtn" class="primary hidden">Start Game</button>
</html>